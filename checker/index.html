<!DOCTYPE html>
<html lang="en-GB">
<head>
<meta charset="utf-8">
<title>HTML code accessibility checker</title>

<style type="text/css">
body { margin: 20px; font-family:"Gill Sans", "Gill Sans MT", "Myriad Pro", "DejaVu Sans Condensed", Helvetica, Arial, sans-serif; font-size: 14px; line-height: 1.2em; color: #666; }
li { margin-top: 12px; }
.guideline { font-size: 118%; line-height: 1.2em; }
a:link { text-decoration: none; color: teal; }
a:visited { text-decoration: none; color: teal; }
h1, h2, h3 { font-family:Segoe, "Segoe UI", "DejaVu Sans", "Trebuchet MS", Verdana, sans-serif; color: black; }
h2 { text-align: right; }
section { padding: 0 30px 20px 30px; border: 1px solid #ccc; border-radius: 10px; margin: 30px 0; }
.kw { color: #930; border-radius: 5px; border: 1px solid #CCC; border: 1px solid #999; font-family: "Courier New", Courier, monospace; font-size: 90%; padding: 0 0.2em; }
code { font-family:monospace; font-size: 90%; }
.indentedCode { margin-left: 4em; }
.checkThis { color: red; font-weight: normal; }
li.info, li.error, li.warning { list-style-type: none; }
li.info:before { content:url(info.png); vertical-align:top; margin-right: 1em; }
li.error:before { content:url(error.png); vertical-align:top; margin-right: 1em; }
li.warning:before { content:url(warning.png); vertical-align:top; margin-right: 1em; }
li.error { color: red; }
li.ordered { list-style-image: none; color: #666; }

.g_terminology { display: none; color: }
.guideline { background-color: #efefef; border-radius: 10px; padding: 8px; line-height: 1.5; }
</style>
</head>

<body>
<h1>HTML code accessibility checker</h1>


<p><label>URL of file to check: <input type="url" id="in" value="" style="width: 500px"/> <button onClick="var newdoc = document.getElementById('in').value; if (newdoc.match(/\.\./)) { alert('Disallowed URL!'); return false; } document.getElementById('myframe').src = newdoc; return false;">Check</button></label></p>

<p>Document title: <span id="doctitle"></span></p>

<iframe id=myframe src="none.html" onLoad="frame = document.getElementById('myframe').contentWindow.document; if (this.src.split('/').pop() != 'none.html') { check(); }" style="width: 80%; margin: 0 10%; border-radius: 10px;"></iframe>

<div id=html></div>
<div id=metadata></div>
<div id=sections></div>
<div id=grouped></div>
<div id=inline></div>
<div id=links></div>
<div id=tables></div>
<div id=forms></div>
<div id=embedded></div>
<div id=navigation></div>

<script>
var yes = 'yes'

function escapeHTML(text) {
  return text
      .replace(/&/g, "&amp;")
      .replace(/</g, "&lt;")
      .replace(/>/g, "&gt;")
      .replace(/"/g, "&quot;")
      .replace(/'/g, "&#039;");
	}
	
function hasParent (currentnode, elementname) {
	// checks whether currentnode has an ancestor element elementname
	// if it does, returns true, otherwise false
	currentnode = currentnode.parentNode
	while ( currentnode.nodeName.toLowerCase() != 'html' && currentnode.nodeName.toLowerCase() != elementname) { currentnode = currentnode.parentNode }
	if ( currentnode.nodeName.toLowerCase() == 'html' ) { return false }
	else { return true }
	}

function showHide (selector, state) {
	// shows or hides elements selected per the state display value
	// selector is a CSS selector
	var temp = document.querySelectorAll(selector)
	for (i=0;i<temp.length;i++) {
		temp[i].style.display = state
		}
	}

function toggleList (listId) {
	var theList = document.getElementById(listId)
	if (theList.style.display == 'none') { theList.style.display = 'block' }
	else { theList.style.display = 'none' }
	return false
	}

function check () {
var frame = document.getElementById('myframe').contentWindow.document
if (frame.src == 'none.html') { return false }



<!-- root element & global attributes -->
var checked = ''
var check = ''
var thisSection = ''
var title = ''

title = "<h2>The root element and global attributes</h2>"

// LANG ON HTML
var htmlElement = frame.querySelector('html')
if (htmlElement.lang != '') { checked += '<li><code class="kw" translate="no">lang</code> attribute on HTML element ok. Value is: <code>'+htmlElement.lang+'</code></li>' }
else { check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H57.html">Use the <code class="kw" translate="no">lang</code> attribute on the <code class="kw" translate="no">html</code> element.</a></p><ul><li class=error>The <code class="kw" translate="no">html</code> element is missing a <code class="kw" translate="no">lang</code> attribute.</li></ul>' 	}

check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H58.html">Use <code class="kw" translate="no">lang</code> attributes to identify changes in the human language.</a></p>'


// BIDI GUIDELINES
// display only if text contains characters from RTL scripts or if user indicates
var bodyText = frame.querySelector('body').textContent
bidiChars = ''
if (bodyText.match(/[؀-ۿ|֑-״|߀-ߺ|܀-ݏ|ހ-ޱ]/) ) {
	bidiChars = 'checked=checked ';
	}
check += '<p class=question><label><input type="checkbox" id="bidicheckbox"'+bidiChars+' onchange="if (this.checked) { document.getElementById(\'g_bidi\').style.display = \'block\'; } else { document.getElementById(\'g_bidi\').style.display = \'none\';} return false;"/> Does the page use bidirectional text (eg. Arabic, Hebrew, etc)?</label></p>'

check += '<div id=g_bidi style="padding-left: 30px;'
if(bidiChars){ check +=' display:block;'} else { check += ' display:none;' }
check += '">'
check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H56.html">Use the <code class="kw" translate="no">dir</code> attribute on inline elements to resolve problems with nested directional runs.</a></p>'

check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H34.html">Use Unicode right-to-left marks and left-to-right marks to override the HTML bidirectional algorithm when it produces undesirable results.</a></p>'
check += "</div>"


// ID ATTRIBUTES
var idAttributes = frame.querySelectorAll('*[id]')
idAttributesSorted = new Array
for (i=0;i<idAttributes.length;i++) { idAttributesSorted[i] = idAttributes[i].id }
idAttributesSorted.sort()
var conflictingIds = ''
for (i=0;i<idAttributesSorted.length-1;i++) { 
	if (idAttributesSorted[i] == idAttributesSorted[i+1]) { conflictingIds = ' ' + idAttributesSorted[i] }
	}
if (conflictingIds == '') { checked += '<li>No duplicate <code class="kw" translate="no">id</code> attributes.</li>' }
else { check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H93.html">Ensure that <code class="kw" translate="no">id</code> attributes are unique on a Web page.</a></p><ul><li class=error>Duplicate id attribute values:<code>'+conflictingIds+'</code>. </li></ul>' 	}



if (checked != '' || check != '') { 
	thisSection = '<section>'+title
	if (check) { thisSection += "<h3>Check these things</h3>" + check + "" }
	if (checked) { thisSection += "<h3>Successful checks</h3><ul>" + checked + "</ul>" }
	document.getElementById('html').innerHTML = thisSection
	thisSection += '</section>'
	}





<!-- document metadata -->
var checked = ''
var check = ''
var thisSection = ''
var title = ''

title = "<h2>Document metadata</h2>"

// TITLE ELEMENT
var titleElement = frame.querySelector('title')
if (titleElement.textContent != null) document.getElementById('doctitle').textContent = titleElement.textContent
check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H25.html">Define the purpose of the document in a simple phrase in the <code class="kw" translate="no">title</code> element.</a></p>'
if (titleElement != null) { check += '<ul><li class=info><code class="kw" translate="no">title</code> element contains: "<code>'+titleElement.textContent+'</code>".</li></ul></li>' }
else { checked += '<li class=error">No <code class="kw" translate="no">title</code> element found.</li></ul>' 	}


// LINK ELEMENTS
var linkElements = frame.querySelectorAll('link')
check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H59.html">Use the <code class="kw">link</code> element to link to related pages.</a></p>' 
if (linkElements.length > 0) { 
	check += '<ul><li class=info><code class="kw" translate="no">link</code> elements found. The <code class="kw" translate="no">rel</code> attributes are:<br/>'
	for (i=0;i<linkElements.length;i++) { check += '<code class="indentedCode">'+linkElements[i].rel+'</code><br/>' }
	check += '</li></ul>'
	}
else { check += '<ul><li class=warning>No <code class="kw" translate="no">link</code> element found.</li></ul>' 	}


// GLOSSARY LINKS
check += '<p><label><input type="checkbox" id="glossarycheckbox" onchange="if (this.checked) { document.getElementById(\'g_glossary\').style.display = \'block\'; } else { document.getElementById(\'g_glossary\').style.display = \'none\';} return false;"/> Does the page refer to a glossary in another document?</label></p>'

check += '<div id=g_glossary style="display:none; padding-left: 30px;">'
check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H60.html">When terms in the content are defined on a separate glossary page, use the <code class="kw" translate="no">link</code> element with the <code class="kw" translate="no">rel</code> attribute set to "glossary" to link to it.</a></p>'
check += '</div>'



if (checked != '' || check != '') { 
	thisSection = '<section>'+title
	if (check) { thisSection += "<h3>Check these things</h3>" + check + "" }
	if (checked) { thisSection += "<h3>Successful checks</h3><ul>" + checked + "</ul>" }
	document.getElementById('metadata').innerHTML = thisSection
	thisSection += '</section>'
	}





<!-- sections -->
var checked = ''
var check = ''
var thisSection = ''
var title = ''

title = "<h2>Sections</h2>"

// check whether there are any section, nav, article or aside element without a heading
// note this may be problematic, since eg. a nav inside a section would give a positive result
// also need to include header
var sectionReport = ''
var sectionElements = frame.querySelectorAll('section')
if (sectionElements.length > 0) { 
	var sectionErrors = 0
	for (i=0;i<sectionElements.length;i++) {
		if (sectionElements[i].querySelector('h1, h2, h3, h4, h5, h6') == null) { sectionErrors++ }
		}
	if (sectionErrors > 0) { sectionReport += '<li><code class="kw" translate="no">section</code> &nbsp;&nbsp;'+sectionErrors+'</li>' }
	else { sectionReport += '' }
	}
sectionElements = frame.querySelectorAll('article')
if (sectionElements.length > 0) { 
	var sectionErrors = 0
	for (i=0;i<sectionElements.length;i++) {
		if (sectionElements[i].querySelector('h1, h2, h3, h4, h5, h6') == null) { sectionErrors++ }
		}
	if (sectionErrors > 0) { sectionReport += '<li><code class="kw" translate="no">article</code> &nbsp;&nbsp;'+sectionErrors+'</li>' }
	else { sectionReport += '' }
	}
sectionElements = frame.querySelectorAll('nav')
if (sectionElements.length > 0) { 
	var sectionErrors = 0
	for (i=0;i<sectionElements.length;i++) {
		if (sectionElements[i].querySelector('h1, h2, h3, h4, h5, h6') == null) { sectionErrors++ }
		}
	if (sectionErrors > 0) { sectionReport += '<li><code class="kw" translate="no">nav</code> &nbsp;&nbsp;'+sectionErrors+'</li>' }
	else { sectionReport += '' }
	}
sectionElements = frame.querySelectorAll('aside')
if (sectionElements.length > 0) { 
	var sectionErrors = 0
	for (i=0;i<sectionElements.length;i++) {
		if (sectionElements[i].querySelector('h1, h2, h3, h4, h5, h6') == null) { sectionErrors++ }
		}
	if (sectionErrors > 0) { sectionReport += '<li><code class="kw" translate="no">aside</code> &nbsp;&nbsp;'+sectionErrors+'</li>' }
	else { sectionReport += '' }
	}
sectionElements = frame.querySelectorAll('div.section')
if (sectionElements.length > 0) { 
	var sectionErrors = 0
	for (i=0;i<sectionElements.length;i++) {
		if (sectionElements[i].querySelector('h1, h2, h3, h4, h5, h6') == null) { sectionErrors++ }
		}
	if (sectionErrors > 0) { sectionReport += '<li><code class="kw" translate="no">div class="section"</code> &nbsp;&nbsp;'+sectionErrors+'</li>' }
	else { sectionReport += '' }
	}
sectionElements = frame.querySelectorAll('div.navigation')
if (sectionElements.length > 0) { 
	var sectionErrors = 0
	for (i=0;i<sectionElements.length;i++) {
		if (sectionElements[i].querySelector('h1, h2, h3, h4, h5, h6') == null) { sectionErrors++ }
		}
	if (sectionErrors > 0) { sectionReport += '<li><code class="kw" translate="no">div class="navigation"</code> &nbsp;&nbsp;'+sectionErrors+'</li>' }
	else { sectionReport += '' }
	}


check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H69.html">Provide headings at the beginning of each section of content.</a></p>'

if (sectionReport != '') { check += '<ul><li class=info>The following <em>non-exhaustive</em> list shows some section elements that contain no heading element, and the number of occurences:<ul>' + sectionReport + '</ul></li></ul>' }
else { check += '</li>' }
	
check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H42.html">Use <code class="kw" translate="no">h1</code> to <code class="kw" translate="no">h6</code> to identify headings.</a></p>'

check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H69.html">Nest headings hierarchically.</a></p>'


if (checked != '' || check != '') { 
	thisSection = '<section>'+title
	if (check) { thisSection += "<h3>Check these things</h3>" + check + "" }
	if (checked) { thisSection += "<h3>Successful checks</h3><ul>" + checked + "</ul>" }
	document.getElementById('sections').innerHTML = thisSection
	thisSection += '</section>'
	}





<!-- Grouping content -->
var checked = ''
var check = ''
var thisSection = ''
var title = ''

title = "<h2>Grouping content</h2>"

// TERMINOLOGY DEFINITION
check += '<p><label><input type="checkbox" id="terminologycheckbox" onchange="if (this.checked) { document.getElementById(\'g_terminology\').style.display = \'block\'; } else { document.getElementById(\'g_terminology\').style.display = \'none\';} return false;"/> Does the page define terminology?</label></p>'

check += '<div id=g_terminology style="display:none; padding-left: 30px;">'
check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H40.html">Provide the definitions of words or phrases by presenting them in a definition list (<code class="kw" translate="no">dl</code>), preferably in alphabetical order. The term goes in the <code class="kw" translate="no">dt</code> and the definition in the <code class="kw" translate="no">dd</code> elements.</a></p>'

check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H54.html">Use the <code class="kw" translate="no">dfn</code> element to identify the defining instance of a word (the term, not the definition)</a>.</p>'

check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H60.html">When terms in the content are defined on a separate glossary page, use the <code class="kw" translate="no">link</code> element with the <code class="kw" translate="no">rel</code> attribute set to "glossary" to link to it.</a></p>'
check += '</div>'


// LIST USAGE
check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H48.html">Use list markup for lists, and use the most appropriate type of markup from <code class="kw" translate="no">ol</code>, <code class="kw" translate="no">ul</code> and <code class="kw" translate="no">dl</code> lists</a></p>'


if (checked != '' || check != '') { 
	thisSection = '<section>'+title
	if (check) { thisSection += "<h3>Check these things</h3>" + check + "" }
	if (checked) { thisSection += "<h3>Successful checks</h3><ul>" + checked + "</ul>" }
	document.getElementById('grouped').innerHTML = thisSection
	thisSection += '</section>'
	}





<!-- inline content -->
var checked = ''
var check = ''
var thisSection = ''
var title = ''

title = "<h2>Inline content</h2>"


// SEMANTIC MARKUP
check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H49.html">Use semantic markup  to mark emphasized or special text so that it can be programmatically determined. This includes the following elements: <code class="kw" translate="no">em</code>, <code class="kw" translate="no">strong</code>, <code class="kw" translate="no">cite</code>, <code class="kw" translate="no">q</code>, <code class="kw" translate="no">blockquote</code>, <code class="kw" translate="no">sub</code>, <code class="kw" translate="no">sup</code>.</a></p>'
var biElement = frame.querySelectorAll('b, i')
if (biElement.length > 0) { 
	check += '<ul><li class=info>'+biElement.length+' <code class="kw" translate="no">b</code> or <code class="kw" translate="no">i</code> elements found.' 
	check += ' <button onclick="toggleList(\'biElementList\'); return false;">Show me</button>  Check that they don\'t need replacing with <code class="kw" translate="no">strong</code> or <code class="kw" translate="no">em</code>.<ol id="biElementList" style="display:none">'
	for (i=0;i<biElement.length;i++) { 
		check += '<li>'+escapeHTML(biElement[i].outerHTML)+'</li>'
		}
	check += '</ol></ul>'	} 


// ABBREVIATIONS
var acronymElement = frame.querySelectorAll('acronym')
var abbrElements = frame.querySelectorAll('abbr')
if (acronymElement.length > 0) { 
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H28.html">Provide definitions for abbreviations, acronyms and initialisms using the <code class="kw" translate="no">abbr</code> element.</a></p><ul><li class=error>'+acronymElement.length+' <code class="kw" translate="no">acronym</code> elements found. <button href="#" onclick="toggleList(\'acronymElement\'); return false;">Show me</button> Replace with <code class="kw" translate="no">abbr</code>.<ol id="acronymElement" style="display:none">'
	for (i=0;i<acronymElement.length;i++) { 
		check += '<li>'+escapeHTML(acronymElement[i].outerHTML)+'</li>'
		}
	check += '</ol></li></ul>' 
	}
else if (abbrElements.length > 0) { checked += '<li>No <code class="kw" translate="no">acronym</code> elements found, only <code class="kw" translate="no">abbr</code> elements used.</li>' }


// ASCII ART
asciiArt = ''
if (bodyText.match(/:\-\)|:\)|:\-\(|:\(|;\-\)|;\)|;\-\(|;\(/)) {
	asciiArt = 'checked=checked ';
	}
check += '<p class=question><label><input type="checkbox" id="bidicheckbox"'+asciiArt+' onchange="if (this.checked) { document.getElementById(\'g_asciiArt\').style.display = \'block\'; } else { document.getElementById(\'g_asciiArt\').style.display = \'none\';} return false;"/> Does the page use ASCII art, emoticons, and leetspeak?</label></p>'
check += '<div id=g_asciiArt style="padding-left: 30px;'
if(asciiArt){ check +=' display:block;'} else { check += ' display:none;' }
check += '">'

check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H86.html">Provide text alternatives for ASCII art, emoticons, and leetspeak, and possibly a link to skip them.</a></p>'
//if (asciiArt) { 
//	check += '<ul><li class=warning>Some emoticons found (<em>this is not an exhaustive test!</em>).</li></ul>' 
//	}
check += '</div>'


// RUBY
check += '<p><label><input type="checkbox" onchange="if (this.checked) { document.getElementById(\'g_ruby\').style.display = \'block\'; } else { document.getElementById(\'g_ruby\').style.display = \'none\';} return false;"/> Does the page contain ideographic characters?</label></p>'

check += '<div id=g_ruby style="display:none; padding-left: 30px;">'
check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H62.html">Use <code class="kw" translate="no">ruby</code> annotation to provide information about the pronunciation and meaning of a run of text where meaning is determined by pronunciation.</a></p>'
check += '</div>'

if (checked != '' || check != '') { 
	thisSection = '<section>'+title
	if (check) { thisSection += "<h3>Check these things</h3>" + check + "" }
	if (checked) { thisSection += "<h3>Successful checks</h3><ul>" + checked + "</ul>" }
	document.getElementById('inline').innerHTML = thisSection
	thisSection += '</section>'
	}





<!-- links -->
var checked = ''
var check = ''
var thisSection = ''
var title = ''

title = "<h2>Links</h2>"

// DISPLAY ALL LINKS
var allLinks = frame.querySelectorAll('a')
if (allLinks.length > 0) { 
	checked += '<li><button href="#" onclick="toggleList(\'linklist\'); return false;">Show me</button> a list of all link text.<ol id="linklist" style="display:none">'
	for (i=0;i<allLinks.length;i++) { 
		checked += '<li>'+allLinks[i].innerHTML+'</li>'
		}
	checked += '</ol></li>'
	// display all links with parent
	checked += '<li><button href="#" onclick="toggleList(\'linklist2\'); return false;">Show me</button> a list of all link text inside its parent element.<ol id="linklist2" style="display:none">'
	for (i=0;i<allLinks.length;i++) { 
		checked += '<li>'+allLinks[i].parentNode.innerHTML+'</li>'
		}
	checked += '</ol></li>'
	}
else { checked += '<li>No <code class="kw" translate="no">a</code> elements in this document.</li>' }


// A LINK CLARITY
if (allLinks.length > 0) { 
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H30.html">Provide link text that describes the purpose of a link, or <code class="kw" translate="no">alt</code> text if the only content is an image.</a></p>'
	var imgElements = frame.querySelectorAll('a img')
	var noalt = new Array
	if (imgElements.length > 0) { 
		for (i=0;i<imgElements.length;i++) { 
			if (! imgElements[i].alt) { noalt[noalt.length] = imgElements[i] }
			}
		if (noalt.length > 0) {
			check += '<ul><li class=info>'+noalt.length+' <code class="kw" translate="no">img</code> elements were found inside links without <code class="kw" translate="no">alt</code> attributes.  <button onclick="toggleList(\'noAltList\'); return false;">Show me</button>  Check whether <code class="kw" translate="no">alt</code> attributes are needed.<ol id="noAltList" style="display:none">' 
			for (img=0;img<noalt.length;img++) {
				check += '<li><img src="'+noalt[img].src+'" alt=""/> '+escapeHTML(noalt[img].outerHTML)+'</li>'
				}
			check += '</ol></ul>'
			}
		}

	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H78.html">Use information in the surrounding paragraph to clarify the purpose of a link, preferably putting the revelant content before the link.</a></p>'

	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H33.html">If you can\'t indicate the purpose of, or clarify a link in the link text, use CSS to hide a portion of the text. Only use the <code class="kw" translate="no">title</code> attribute   if the browser can handle it for accessibility.</a></p>'
	
	
	// MIXED CONTENT IN A LINK
	var mixedContentLinks = new Array
	for (i=0;i<allLinks.length;i++) {
		if (allLinks[i].querySelector('img') && allLinks[i].textContent) {
			mixedContentLinks[mixedContentLinks.length] = allLinks[i]
			}
		}
	if (mixedContentLinks.length > 0) {
		check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H30.html">When the content of a link contains both text and one or more images, if the text  sufficiently describes the purpose of the link, the image(s) may have an empty <code class="kw" translate="no">alt</code> attribute. However, if the images convey information beyond the purpose of the link, they must also have appropriate <code class="kw" translate="no">alt</code> text.</a></p>'
		check += '<ul><li class=info>'+mixedContentLinks.length+' <code class="kw" translate="no">a</code> elements found containing both text and <code class="kw" translate="no">img</code> elements.  <button onclick="toggleList(\'mixedContentLinks\'); return false;">Show me</button>  Check whether <code class="kw" translate="no">alt</code> attributes are needed.<ol id="mixedContentLinks" style="display:none">' 
		for (i=0;i<mixedContentLinks.length;i++) {
			check += '<li>'+mixedContentLinks[i].outerHTML+'<br/>'+escapeHTML(mixedContentLinks[i].outerHTML)+'</li>'
			}
		check += '</ol></ul>'
		}
	
	
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H33.html">Tell the user if any information they should know before following a link.</a></p>'


// TARGET ATTRIBUTE
	var aWithTarget = frame.querySelectorAll('*[target]')
	var titleAttribute = 0
	if (aWithTarget.length > 0) { 
		for (i=0;i<aWithTarget.length;i++) { 
			if (aWithTarget[i].title) { titleAttribute++ }
			}
		check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H83.html">If you use a <code class="kw" translate="no">target</code> attribute, tell the user that the link will open in a new window.</a></p>'
		check += '<ul><li class=info>'+aWithTarget.length+' <code class="kw" translate="no">a</code> elements with <code class="kw" translate="no">target</code> attributes were found  <button onclick="toggleList(\'targetAttribute\'); return false;">Show me</button>,  of which, '+titleAttribute+' had a <code class="kw" translate="no">title</code> attribute.</li><ol id="targetAttribute" style="display:none">' 
		for (i=0;i<aWithTarget.length;i++) {
			check += '<li>'+escapeHTML(aWithTarget[i].outerHTML)+'</li>'
			}
		check += '</ol></ul>'
		}
	else { checked += '<li>No <code class="kw" translate="no">target</code> attributes are used in this document.</li>' }




	// check for sibling links that point to the same location
	var siblingLinks = frame.querySelectorAll('a+a')
	var geminiLinks = new Array
	if (siblingLinks.length > 0) { 
		for (i=1;i<siblingLinks.length;i++) { 
			// figure out whether there's intervening text, and if so is it just whitespace
			if (siblingLinks[i].previousSibling.nodeType == 3) { 
				prevSib = siblingLinks[i].previousSibling
				if (prevSib.textContent.replace(/\s/g, "") == '') {
					prevSib = siblingLinks[i].previousSibling.previousSibling 
					}
				else { prevSib = 'text' }
				}
			else { prevSib = siblingLinks[i].previousSibling }
			
		//alert('siblings: '+prevSib+'•'+siblingLinks[i].outerHTML)
			if (prevSib != 'text' && prevSib.href == siblingLinks[i].href) { 
				geminiLinks[geminiLinks.length] = '<li>'+escapeHTML(prevSib.outerHTML)+escapeHTML(siblingLinks[i].outerHTML)+'</li>' 
				//alert('gemini: '+geminiLinks[geminiLinks.length-1])
				}
			}
		}
	if (geminiLinks.length > 0) { 
		check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H2.html">Combine adjacent image and text links for the same resource, and provide null <code class="kw" translate="no">alt</code> text on the image to eliminate duplication of text.</a></p><ul><li class=info><button onclick="toggleList(\'siblinglinklist\'); return false;">Show me</button> a list of adjacent links that point to the same location (any intervening whitespace is removed).<ol id="siblinglinklist" style="display:none">'
		for (i=0;i<geminiLinks.length;i++) { 
			check += geminiLinks[i]
			}
		check += '</ol></ul>'
		}
	
	
	
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H77.html">Use contextual information provided by lists,  tables, and headings to clarify the purpose of a link.</a> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H79.html" title="A second WAI technique that relates to this point">[Second link].</a> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H80.html" title="A third WAI technique that relates to this point">[Third link].</a> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H81.html" title="A fourth WAI technique that relates to this point">[Fourth link].</a></p>'
	}
	
if (checked != '' || check != '') { 
	thisSection = '<section>'+title
	if (check) { thisSection += "<h3>Check these things</h3>" + check + "" }
	if (checked) { thisSection += "<h3>Successful checks</h3><ul>" + checked + "</ul>" }
	document.getElementById('links').innerHTML = thisSection
	thisSection += '</section>'
	}





<!-- tables -->
var checked = ''
var check = ''
var thisSection = ''
var title = ''

title = "<h2>Tables</h2>"

// ignore all this if there are no tables
var tableElements = frame.querySelectorAll('table')

if (tableElements.length > 0) {

	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H51.html">When logical relationships exist among text, numbers, images, or other data  in two dimensions (vertical and horizontal), use the <code class="kw" translate="no">table</code> element with the child elements <code class="kw" translate="no">tr</code>, <code class="kw" translate="no">th</code>, and <code class="kw" translate="no">td</code> make these relationships perceivable. Do not use tabs to create tables.</a></p>'
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H73.html">For tables with a complex structure, use  the <code class="kw" translate="no">summary</code> attribute of the <code class="kw" translate="no">table</code> element to give a brief explanation of how to navigate the table, or how the table is organized.</a></p><ul>'
	// get a list of summary attributes
	var summaryAttribute = frame.querySelectorAll('*[summary]')
	check += '<li class=info>'+summaryAttribute.length+' <code class="kw" translate="no">summary</code> attributes found.</li>' 
	check += '</ul>'
	
	
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H39.html">Where a table needs a heading or title, use a <code class="kw" translate="no">caption</code> element.</a></p><ul>'
	// get a list of caption elements
	var captionElements = frame.querySelectorAll('caption')
	check += '<li class=info>'+captionElements.length+' <code class="kw" translate="no">caption</code> elements found.</li>' 
	check += '</ul>'
	
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H39.html">If both are used, the <code class="kw" translate="no">caption</code> element should not duplicate information in the <code class="kw" translate="no">summary</code> attribute. The caption identifies the table, whereas the summary describes the purpose or how to navigate the table.</a></p><ul>'
	check += '<li class=info> The following is a list of tables, showing <code class="kw" translate="no">caption</code> or <code class="kw" translate="no">summary</code> where used.<ol>' 
	for (t=0;t<tableElements.length;t++) {
		check += '<li class=ordered>'
		if (tableElements[t].querySelector('caption')) { check += '<em>Caption:</em> '+tableElements[t].querySelector('caption').textContent }
		if (tableElements[t].querySelector('caption') && tableElements[t].summary) { check += '<br/>' }
		if (tableElements[t].summary) { check += '<em>Summary:</em> '+tableElements[t].summary }
		if (! tableElements[t].querySelector('caption') && ! tableElements[t].summary) { check += '<em>No caption nor summary</em>.' }
		check += '</li>'
		}
	check += '</ol></ul>'


	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H43.html">When data cells are associated with more than one row and/or one column header, use <code class="kw" translate="no">id</code> and <code class="kw" translate="no">headers</code> attributes to associate data cells with header cells.</a></p><ul>'
	var tablesWithHeaders = 0
	var tablesWithHeadersButNoID = 0
	for (t=0;t<tableElements.length;t++) {
		var thId = false
		tdCells = tableElements[t].querySelectorAll('td')
		thCells = tableElements[t].querySelectorAll('th')
		for (c=0;c<thCells.length;c++) { if (thCells[c].id) { thId = true; } }
		for (c=0;c<tdCells.length;c++) { 
			if (tdCells[c].headers && thId) { tablesWithHeaders++; break }
			else if (tdCells[c].headers && ! thId) { tablesWithHeadersButNoID++; break }
			}
		}
		
	check += '<li class=info>'
	if (tablesWithHeaders >0) { check += tablesWithHeaders+' tables used <code class="kw" translate="no">id</code> and <code class="kw" translate="no">header</code> attributes.' }
	else { check += 'No tables used <code class="kw" translate="no">id</code> and <code class="kw" translate="no">header</code> attributes.' }
	check += '</li>'
	if (tablesWithHeadersButNoID >0) { 
		check += '<li class=error>'+tablesWithHeadersButNoID+' tables used <code class="kw" translate="no">header</code> attributes but without <code class="kw" translate="no">id</code>s.</li>' }
	check += '</ul></li>'


	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H63.html">When header cells are not in the first column or row, or are not marked up using <code class="kw" translate="no">th</code>, use the <code class="kw" translate="no">scope</code> attribute to associate header and data cells.</a></p><ul>'
	var tablesWithScope = 0
	for (t=0;t<tableElements.length;t++) {
		thCells = tableElements[t].querySelectorAll('th')
		for (c=0;c<thCells.length;c++) { 
			if (thCells[c].scope) { tablesWithScope++; break }
			}
		}
	check += '<li class=info>'
	if (tablesWithScope >0) { check += tablesWithScope+' tables used the <code class="kw" translate="no">scope</code> attribute.' }
	else { check += 'No tables used the <code class="kw" translate="no">scope</code> attribute.' }
	check += '</li>'
	check += '</ul>'



	}
else { checked += '<li>No tables in this document.</li>' }


if (checked != '' || check != '') { 
	thisSection = '<section>'+title
	if (check) { thisSection += "<h3>Check these things</h3>" + check + "" }
	if (checked) { thisSection += "<h3>Successful checks</h3><ul>" + checked + "</ul>" }
	document.getElementById('tables').innerHTML = thisSection
	thisSection += '</section>'
	}





<!-- forms -->
var checked = ''
var check = ''
var thisSection = ''
var title = ''

title = "<h2>Forms</h2>"


var inputElements = frame.querySelectorAll('input')
var selectElements = frame.querySelectorAll('select')
var textareaElements = frame.querySelectorAll('textarea')
if (inputElements.length == 0 && selectElements.length == 0 && textareaElements.length == 0) {
	checked += '<li>No <code class="kw" translate="no">input</code>, <code class="kw" translate="no">select</code> or <code class="kw" translate="no">textarea</code> elements in this document.</li>'
	}
else {
	if (inputElements.length == 0) {
		checked += '<li>No <code class="kw" translate="no">input</code> elements in this document.</li>'
		}
	if (selectElements.length == 0) {
		checked += '<li>No <code class="kw" translate="no">select</code> elements in this document.</li>'
		}
	if (textareaElements.length == 0) {
		checked += '<li>No <code class="kw" translate="no">textarea</code> elements in this document.</li>'
		}


	// INPUT ELEMENTS OF TYPE IMAGE
	var inputImageElements = frame.querySelectorAll('input[type=image]')
	if (inputImageElements.length > 0) { 
		var inputWithAlt = new Array
		for (i=0;i<inputImageElements.length;i++) {
			if (inputImageElements[i].alt) { inputWithAlt[inputWithAlt.length] = inputImageElements[i] }
			}
		if (inputWithAlt.length == inputImageElements.length) { 
			checked += '<li>All <code class="kw" translate="no">input</code> elements with <code class="kw" translate="no">type</code> set to <code class="kw" translate="no">image</code> have <code class="kw" translate="no">alt</code> attributes.</li>' }
		else { 
			check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H36.html">For <code class="kw" translate="no">input</code> elements of type <code class="kw" translate="no">image</code> (used as submit buttons), use the <code class="kw" translate="no">alt</code> attribute of the <code class="kw" translate="no">input</code> element  to  indicate the button\'s function, but do not attempt to describe the image.</a></p>'
			check += '<ul>' 
			if (inputWithAlt.length == 0) { 
				check += '<li class=error>No <code class="kw" translate="no">input</code> elements with <code class="kw" translate="no">type</code> set to <code class="kw" translate="no">image</code> have <code class="kw" translate="no">alt</code> attributes. <button onclick="toggleList(\'inputImageElements\'); return false;">Show me</button><ol id="inputImageElements" style="display:none">'  
				}
			else { 
				check += '<li class=error>Of '+inputImageElements.length+' <code class="kw" translate="no">input</code> elements with <code class="kw" translate="no">type</code> set to <code class="kw" translate="no">image</code>, only '+inputWithAlt.length+' have <code class="kw" translate="no">alt</code> attributes. <button onclick="toggleList(\'inputImageElements\'); return false;">Show me</button><ol id="inputImageElements" style="display:none">'
				}
			for (i=0;i<inputImageElements.length;i++) { 
				check += '<li>'+escapeHTML(inputImageElements[i].outerHTML)+'</li>'
				}
			check += '</ol></li></ul>'
			}
		}
	else { checked += '<li>No <code class="kw" translate="no">input</code> elements of type <code class="kw" translate="no">image</code>.</li>' }
	
	
	
	
	// make array lists of input/textarea/select elements linked to label elements using the for attribute
	var inputWithoutLabels = new Array
	var selectWithoutLabels = new Array
	var textareaWithoutLabels = new Array
	if (inputElements.length > 0) { 
		for (i=0;i<inputElements.length;i++) {
			if (inputElements[i].id && frame.querySelector('label[for='+inputElements[i].id+']')) {  } 
			else {
				if (! hasParent(inputElements[i], 'label') && (inputElements[i].type == 'text' || inputElements[i].type == 'checkbox' || inputElements[i].type == 'radio' || inputElements[i].type == 'file' || inputElements[i].type == 'password' )) { inputWithoutLabels[inputWithoutLabels.length] = inputElements[i] }
				}
			}
		}
	
	if (selectElements.length > 0) { 
		for (i=0;i<selectElements.length;i++) {
			if (selectElements[i].id && frame.querySelector('label[for='+selectElements[i].id+']')) {  }
			else {
				if (! hasParent(selectElements[i], 'label') ) { selectWithoutLabels[selectWithoutLabels.length] = selectElements[i] }
				}
			}
		}
	
	if (textareaElements.length > 0) { 
		for (i=0;i<textareaElements.length;i++) {
			if (textareaElements[i].id && frame.querySelector('label[for='+textareaElements[i].id+']')) {  }
			else {
				if (! hasParent(textareaElements[i], 'label') ) { textareaWithoutLabels[textareaWithoutLabels.length] = textareaElements[i] }
				}
			}
		}
	
		
	if (inputElements.length > 0 && inputWithoutLabels.length == 0) {
		checked += '<li>All <code class="kw" translate="no">input</code> elements with types <code class="kw" translate="no">text</code>, <code class="kw" translate="no">checkbox</code>, <code class="kw" translate="no">radio</code>, <code class="kw" translate="no">file</code> or <code class="kw" translate="no">password</code> are associated with <code class="kw" translate="no">label</code> elements.</li>'
		}
	if (selectElements.length > 0 && selectWithoutLabels.length == 0) {
		checked += '<li>All <code class="kw" translate="no">select</code> elements are associated with <code class="kw" translate="no">label</code> elements.</li>'
		}
	if (textareaElements.length > 0 && textareaWithoutLabels.length == 0) {
		checked += '<li>All <code class="kw" translate="no">textarea</code> elements are associated with <code class="kw" translate="no">label</code> elements.</li>'
		}
	if ( inputWithoutLabels.length > 0 || selectWithoutLabels.length > 0 || textareaWithoutLabels.length > 0) {
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H44.html">Use <code class="kw" translate="no">label</code> elements to associate text labels with form controls for <code class="kw" translate="no">input</code> elements of type <code class="kw" translate="no">text</code>, <code class="kw" translate="no">checkbox</code>, <code class="kw" translate="no">radio</code>, <code class="kw" translate="no">file</code> and <code class="kw" translate="no">password</code>, and <code class="kw" translate="no">textarea</code> and <code class="kw" translate="no">select</code> elements.</a></p><ul>'
		if ( inputWithoutLabels.length > 0 ) {
			check += '<li class=warning>'+inputWithoutLabels.length+' / '+inputElements.length+' <code class="kw" translate="no">input</code> elements with types <code class="kw" translate="no">text</code>, <code class="kw" translate="no">checkbox</code>, <code class="kw" translate="no">radio</code>, <code class="kw" translate="no">file</code> or <code class="kw" translate="no">password</code> are not associated with <code class="kw" translate="no">label</code> elements. <button onclick="toggleList(\'inputWithoutLabels\'); return false;">Show me</button> <ul id="inputWithoutLabels" style="display: none;">'
			for (i=0;i<inputWithoutLabels.length;i++) { 
				check += '<li>'+escapeHTML(inputWithoutLabels[i].outerHTML)+'</li>'
				}
			check += '</ul></li>'
			}
		if ( selectWithoutLabels.length > 0 ) {
			check += '<li class=warning>'+selectWithoutLabels.length+' / '+selectElements.length+' <code class="kw" translate="no">select</code> elements are not associated with <code class="kw" translate="no">label</code> elements. <button onclick="toggleList(\'selectWithoutLabels\'); return false;">Show me</button> <ul id="selectWithoutLabels" style="display: none;">'
			for (i=0;i<selectWithoutLabels.length;i++) { 
				check += '<li>'+escapeHTML(selectWithoutLabels[i].outerHTML)+'</li>'
				}
			check += '</ul></li>'
			}
		if ( textareaWithoutLabels.length > 0 ) {
			check += '<li class=warning>'+textareaWithoutLabels.length+' / '+textareaElements.length+' <code class="kw" translate="no">textarea</code> elements are not associated with <code class="kw" translate="no">label</code> elements. <button onclick="toggleList(\'textareaWithoutLabels\'); return false;">Show me</button><ul id="textareaWithoutLabels" style="display: none;">'
			for (i=0;i<textareaWithoutLabels.length;i++) { 
				check += '<li>'+escapeHTML(textareaWithoutLabels[i].outerHTML)+'</li>'
				}
			check += '</ul></li>'
			}
		check += '</ul></li>'
		}
	
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H71.html">Where the individual labels associated with each control are not sufficient, provide a description for groups of form controls using <code class="kw" translate="no">fieldset</code> and <code class="kw" translate="no">legend</code> elements (but avoid nesting fieldsets unnecessarily) – particularly  for radio buttons and check boxes.</a></p>'
	
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H89.html">Use the <code class="kw" translate="no">title</code> attribute to provide context-sensitive help for form fields.</a></p>'
	
	
	// REQUIRED FORM CONTROLS
	check += '<p><label><input type="checkbox" onchange="if (this.checked) { document.getElementById(\'g_requiredform\').style.display = \'block\'; } else { document.getElementById(\'g_requiredform\').style.display = \'none\';} return false;"/> Does the page contain required-answer form controls?</label></p>'
	check += '<div id=g_requiredform style="display:none; padding-left: 30px;">'
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H90.html">To indicate required form controls, use the <code class="kw" translate="no">label</code> or <code class="kw" translate="no">legend</code> elements or a symbol. If a symbol is used, the user should be advised of its meaning before use.</a></p>'
	
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H90.html">If using an asterisk to indicate required form controls, consider putting it inside an <code class="kw" translate="no">abbr</code> element, so that it can be styled larger and given an explanation in a <code class="kw" translate="no">title</code> attribute.</a></p>'
	check += '</div>'
	
	if (selectElements.length > 0) { 
		check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H84.html">Use a button to select an item from a <code class="kw" translate="no">select</code> list, rather than making the action occur as a result of choosing a value.</a></p>'
	
		check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H85.html">Use <code class="kw" translate="no">optgroup</code> to group <code class="kw" translate="no">option</code> elements inside a <code class="kw" translate="no">select</code>.</a></p>'
		}
		
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H32.html">Provide a <code class="kw" translate="no">submit</code> button as  an explicit way to change the user\'s context .</a></p>'
	}


if (checked != '' || check != '') { 
	thisSection = '<section>'+title
	if (check) { thisSection += "<h3>Check these things</h3>" + check + "" }
	if (checked) { thisSection += "<h3>Successful checks</h3><ul>" + checked + "</ul>" }
	document.getElementById('forms').innerHTML = thisSection
	thisSection += '</section>'
	}





<!-- embedded content -->
var checked = ''
var check = ''
var thisSection = ''
var title = ''

title = "<h2>Embedded content</h2>"

var imgElements = frame.querySelectorAll('img')
if (imgElements.length > 0) { 
	
	var imgsWithoutAlt = new Array
	for (i=0;i<imgElements.length;i++) {
		if (! imgElements[i].hasAttribute('alt')) { imgsWithoutAlt[imgsWithoutAlt.length] = imgElements[i] }
		}
	if (imgsWithoutAlt.length > 0) {
		check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H37.html">Use <code class="kw" translate="no">alt</code> attributes on <code class="kw" translate="no">img</code> elements to specify a short text alternative.</a></p>'
	
		check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H67.html">Use  <code>alt=&quot;&quot;</code> and no <code class="kw" translate="no">title</code> attribute on <code class="kw" translate="no">img</code> elements for images that assistive technology should ignore. Don\'t just omit the <code class="kw" translate="no">alt</code> attribute!</a></p><ul>'
		check += '<li class=info><button onclick="toggleList(\'imgsWithoutAlt\'); return false;">Show me</button> a list of <code class="kw" translate="no">img</code> elements without <code class="kw" translate="no">alt</code>.<ul id=imgsWithoutAlt style="display:none;">'
		for (i=0;i<imgsWithoutAlt.length;i++) {
			check += '<li>'+escapeHTML(imgsWithoutAlt[i].outerHTML)+'</li>'
			}
		check += '</ul></li></ul>'
		}
	else { checked += '<li>All <code class="kw" translate="no">img</code> elements have <code class="kw" translate="no">alt</code> attributes.</li>' }

	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H37.html"> The alt text should contain any words in the image that are important to understanding the content. Alt text does not necessarily describe the visual characteristics of the image itself but must convey the same meaning as the image.</a></p><ul>'
	check += '<li class=info><button onclick="toggleList(\'imgsWithAlt\'); return false;">Show me</button> a list of <code class="kw" translate="no">img</code> elements with <code class="kw" translate="no">alt</code>.<ul id=imgsWithAlt style="display:none;">'
		for (i=0;i<imgElements.length;i++) {
			if (imgElements[i].hasAttribute('alt')/* && imgElements[i].alt != null*/) { check += '<li>'+imgElements[i].outerHTML+'<br/>'+escapeHTML(imgElements[i].outerHTML)+'</li>' }
			}
		check += '</ul></li></ul>'

	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H45.html">When  a short alt text does not adequately convey the function or information provided in the image, use a <code class="kw" translate="no">longdesc</code> attribute.</a></p>'
	
	

}
else { checked += '<li>No <code class="kw" translate="no">img</code> elements in this document.</li>'  }


var mapElements = frame.querySelectorAll('map')
if (mapElements.length > 0) { 
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H24.html">Use the <code class="kw" translate="no">alt</code> attribute of the <code class="kw" translate="no">area</code> element to describe the purpose of each image map area.</a></p>'
	}
else { checked += '<li>No image maps in this document.</li>' }
	
	
var frameElements = frame.querySelectorAll('frameset, iframe')
if (frameElements.length > 0) { 
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H70.html">As frames are often problematic for assistive technology, use other techniques where you can.</a></p>'

	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H64.html">Use the <code class="kw" translate="no">title</code> attribute of <code class="kw" translate="no">frame</code> and <code class="kw" translate="no">iframe</code> elements to describe the contents of each frame.</a></p>'

	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H70.html">If the document uses frames, use <code class="kw" translate="no">frame</code> elements to group blocks of repeated material. (But don\'t introduce frames to do this!)</a></p>'
	}
else { checked += '<li>No frames or iframes in this document.</li>' }



var objectElements = frame.querySelectorAll('object')
if (objectElements.length > 0) { 
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H27.html">Provide a text alternative in the content of the <code class="kw" translate="no">object</code> element.</a></p>'

	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H53.html">Use the body of the <code class="kw" translate="no">object</code> element  to provide a complete text alternative for the object or for additional non-text content with text alternatives.</a></p>'
	}
else { checked += '<li>No <code class="kw" translate="no">object</code> elements in this document.</li>' }


var appletElements = frame.querySelectorAll('applet')
if (appletElements.length > 0) { 
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H35.html">Use both the <code class="kw" translate="no">alt</code> attribute  and provide a text alternative in the body of the <code class="kw" translate="no">applet</code> element to provide a text alternative.</a></p>'
	}
else { checked += '<li>No <code class="kw" translate="no">applet</code> elements in this document.</li>' }


var embedElements = frame.querySelectorAll('embed')
if (embedElements.length > 0) { 
	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H46.html">Provide alternative content for the <code class="kw" translate="no">embed</code> element in a <code class="kw" translate="no">noembed</code> element.</a></p>'

	check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H46.html">While it can be positioned anywhere on the page, it is a good idea to include a <code class="kw" translate="no">noembed</code> element as a child of <code class="kw" translate="no">embed</code>.</a></p>'
	}
else { checked += '<li>No <code class="kw" translate="no">embed</code> elements in this document.</li>' }





if (checked != '' || check != '') { 
	thisSection = '<section>'+title
	if (check) { thisSection += "<h3>Check these things</h3>" + check + "" }
	if (checked) { thisSection += "<h3>Successful checks</h3><ul>" + checked + "</ul>" }
	document.getElementById('embedded').innerHTML = thisSection
	thisSection += '</section>'
	}





<!-- navigation content -->
var checked = ''
var check = ''
var thisSection = ''
var title = ''

title = "<h2>Navigation</h2>"


check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H4.html">If, and only if, the order of elements on a page doesn\'t provide a useful tab order, use the <code class="kw" translate="no">tabindex</code> attribute to set a logical tab order through links, form controls, and objects.</a></p><ul>'

// check for tabindex
var tabindex = frame.querySelectorAll('*[tabindex]')
if (tabindex.length > 0) { 
	check += '<li>'+tabindex.length+' <code class="kw" translate="no">tabindex</code> attributes were found.</a></li>'
	}
else { check += '<li class=info>No <code class="kw" translate="no">tabindex</code> attributes were found.</li>' }

check += '</ul>'


check += '<p><label><input type="checkbox" id="redirectcheckbox" onchange="if (this.checked) { document.getElementById(\'g_redirects\').style.display = \'block\'; } else { document.getElementById(\'g_redirects\').style.display = \'none\';} return false;"/> Does the page use redirects?</label></p>'

check += '<div id=g_redirects style="display:none; padding-left: 30px;">'
check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H76.html">Use a server-side redirect rather than a client-side one wherever possible.</a></p>'

check += '<p class="guideline"><input type="checkbox"/> <a target="_blank" href="http://www.w3.org/TR/WCAG20-TECHS/H76.html">If it is not possible to use a server-side redirect, use <code class="kw" translate="no">meta</code> with <code class="kw" translate="no">refresh</code> to create an instant client-side redirect. The <code class="kw" translate="no">content</code> attribute should be set to 0, and the page that redirects should only contain information related to the redirect.</a></p>'
check += '</div>'



if (checked != '' || check != '') { 
	thisSection = '<section>'+title
	if (check) { thisSection += "<h3>Check these things</h3>" + check + "" }
	if (checked) { thisSection += "<h3>Successful checks</h3><ul>" + checked + "</ul>" }
	document.getElementById('navigation').innerHTML = thisSection
	thisSection += '</section>'
	}












}
</script>
<p>You can click on the checkboxes next to guidelines to tally up successes and failures, but beware because the checked boxes will be cleared if you leave or refresh the page. (Links on guidelines open in a new window.)</p>
</body>
</html>
